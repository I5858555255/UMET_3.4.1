(self["webpackChunkpdd"]=self["webpackChunkpdd"]||[]).push([[1439],{11439:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100%"}},[t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t("keep-alive",{attrs:{include:["Detail"]}},[t(e.component,{ref:"component",tag:"component",attrs:{params:e.params},on:{change:e.onChange}})],1)],1)],1)},l=[],r=function(){var e=this,t=e._self._c;return t("div",[t("ai-list",{staticClass:"list"},[t("ai-title",{attrs:{slot:"title",title:"收藏列表",isShowBottomBorder:""},slot:"title"}),t("template",{slot:"content"},[t("ai-search-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[t("label",{staticStyle:{width:"80px"}},[e._v("排序方式：")]),t("el-select",{attrs:{clearable:!0,placeholder:"请选择排序方式",size:"small"},on:{change:function(t){e.search.current=1,e.getList()}},model:{value:e.search.orderBy,callback:function(t){e.$set(e.search,"orderBy",t)},expression:"search.orderBy"}},e._l(e.orderBys,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("label",{staticStyle:{width:"80px"}},[e._v("价格区间：")]),t("el-input",{staticStyle:{width:"80px"},attrs:{clearable:!0,size:"small"},model:{value:e.search.priceBegin,callback:function(t){e.$set(e.search,"priceBegin",t)},expression:"search.priceBegin"}}),e._v(" ~ "),t("el-input",{staticStyle:{width:"80px"},attrs:{clearable:!0,size:"small"},model:{value:e.search.priceEnd,callback:function(t){e.$set(e.search,"priceEnd",t)},expression:"search.priceEnd"}}),t("label",{staticStyle:{width:"80px"}},[e._v("销量区间：")]),t("el-input",{staticStyle:{width:"80px"},attrs:{clearable:!0,size:"small"},model:{value:e.search.saleBegin,callback:function(t){e.$set(e.search,"saleBegin",t)},expression:"search.saleBegin"}}),e._v(" ~ "),t("el-input",{staticStyle:{width:"80px"},attrs:{clearable:!0,size:"small"},model:{value:e.search.saleEnd,callback:function(t){e.$set(e.search,"saleEnd",t)},expression:"search.saleEnd"}})]},proxy:!0},{key:"right",fn:function(){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.search.current=1,e.getList()}}},[e._v("查询")])]},proxy:!0}])}),t("div",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr 1fr 1fr 1fr 1fr",gap:"16px"}},[e._l(e.tableData,(function(a){return t("el-card",{key:a.id,attrs:{"body-style":{padding:"0px",margin:"5px"}}},[t("el-image",{staticClass:"image",attrs:{src:a.imgUrl,"preview-src-list":[a.imgUrl]}}),t("div",{staticStyle:{padding:"14px"}},[t("div",{staticClass:"bottom clearfix"},[t("div",{staticStyle:{"margin-bottom":"5px"}},[t("div",{staticStyle:{display:"inline","margin-left":"5px"}},[e._v("$"+e._s(a.price)),t("sub",{staticStyle:{"margin-left":"2px"},domProps:{innerHTML:e._s(e.getPricePercent(a.priceChange))}})]),t("div",{staticStyle:{display:"inline","margin-right":"5px",float:"right"}},[e._v(e._s(a.saleTotal)),t("sub",{staticStyle:{"margin-left":"2px"},domProps:{innerHTML:e._s(e.getSalePercent(a.saleChange))}})])]),t("div",[t("div",{staticStyle:{display:"inline"}},[e._v("日均销量: "),t("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v(e._s(a.averageSale))])]),t("ai-product-drop-down",{staticStyle:{float:"right"},attrs:{params:a,isShowDetail:!0,isShowAddFavorite:!1,isShowDelFavorite:!0},on:{onDelFavoriteSuccess:function(t){return e.deleteFavoriteSuccess()},onGoDetail:function(t){return e.goDetail(a.goodsId,a.monitorId)}}})],1)])])],1)})),t("el-pagination",{staticStyle:{position:"absolute",bottom:"0px",right:"40px"},attrs:{layout:"prev, pager, next",total:e.total,"page-size":e.search.size,"current-page":e.search.current},on:{"update:pageSize":function(t){return e.$set(e.search,"size",t)},"update:page-size":function(t){return e.$set(e.search,"size",t)},"update:currentPage":function(t){return e.$set(e.search,"current",t)},"update:current-page":function(t){return e.$set(e.search,"current",t)},"current-change":e.getList}},[t("div",{staticClass:"paginationPre-total"},[e._v("共"),t("label",{staticClass:"color-primary"},[e._v(e._s(e.total))]),e._v("条记录 ")])])],2)],1)],2),t("div",{staticClass:"productDetail"},[t("el-dialog",{attrs:{title:"商品详情",visible:e.isShowDetailDlg,"close-on-click-modal":!1,width:"80%","before-close":e.handleClose}},[e.isShowDetailDlg?t("ai-product-detail",{attrs:{params:e.detailParams}}):e._e()],1)],1)],1)},s=[],n=a(12411),o=a(8418),c={name:"DetailPage",props:["params"],components:{AiProductDetail:n["default"],AiProductDropDown:o["default"]},data(){return{monitorId:"",search:{current:1,type:"1",size:120,orderBy:"",priceBegin:"",priceEnd:"",saleBegin:"",saleEnd:""},orderBys:[{value:"0",label:"按销量涨辐排序"},{value:"1",label:"按价格涨辐排序"},{value:"2",label:"按销量排序"},{value:"3",label:"按价格排序"},{value:"4",label:"按日均销量排序"}],tableData:[],total:0,isShowDetailDlg:!1,detailParams:{}}},created(){this.monitorId=this.params.id,this.getList()},methods:{getList(){this.$http.post("/api/monitorFavorite/myPage",null,{params:{...this.search}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},deleteFavoriteSuccess(){this.getList()},cancel(e){this.$emit("change",{type:"List",isRefresh:!!e})},getPricePercent(e){return e<0?'<div style="display: inline; color: green">↓'+e+"%</div>":e>0?'<div style="display: inline; color: red">↑'+e+"%</div>":""},getSalePercent(e){return e<0?'<div style="display: inline; color: green">↓'+e+"%</div>":e>0?'<div style="display: inline; color: red">↑'+e+"%</div>":""},handleClose(){this.isShowDetailDlg=!1},goDetail(e,t){this.detailParams={goodsId:e,monitorId:t},this.isShowDetailDlg=!0}}},d=c,p=(a(92261),a(81656)),u=(0,p.A)(d,r,s,!1,null,"62aadc80",null),h=u.exports,g={name:"FavoriteTrack",label:"我的跟踪收藏",components:{Detail:h},data(){return{component:"Detail",params:{}}},methods:{onChange(e){"Detail"===e.type&&(this.component="Detail",this.params=e.params)}}},v=g,m=(0,p.A)(v,i,l,!1,null,"4c7ac100",null),f=m.exports},92263:function(e,t,a){"use strict";a.r(t);var i=a(31601),l=a.n(i),r=a(76314),s=a.n(r),n=s()(l());n.push([e.id,'.productDetail[data-v-62aadc80] .el-dialog{height:78vh;overflow:auto}.time[data-v-62aadc80]{font-size:13px;color:#999}.bottom[data-v-62aadc80]{margin-top:13px;line-height:12px}.button[data-v-62aadc80]{padding:0;float:right}.image[data-v-62aadc80]{width:100%;display:block}.clearfix[data-v-62aadc80]:after,.clearfix[data-v-62aadc80]:before{display:table;content:""}.clearfix[data-v-62aadc80]:after{clear:both}.el-dropdown-link[data-v-62aadc80]{cursor:pointer;color:#409eff}.el-icon-arrow-down[data-v-62aadc80]{font-size:12px}',""]),t["default"]=n},92261:function(e,t,a){var i=a(92263);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var l=a(99548).A;l("706c4aab",i,!0,{sourceMap:!1,shadowMode:!1})}}]);