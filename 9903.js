(self["webpackChunkpdd"]=self["webpackChunkpdd"]||[]).push([[9903],{12323:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"body"},[t("div",{staticClass:"middle"},[t("div",{staticClass:"right"},[t("div",{staticClass:"tab"},[t("h2",{staticClass:"active",on:{click:function(t){e.currIndex=0}}},[e._v("注册")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-position":"top","label-width":"100px"}},[t("el-form-item",{attrs:{prop:"name",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{prop:"phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e.phoneReg,trigger:"blur"}]}},[t("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"repassword",rules:[{required:!0,message:"请再次输入密码",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"请再次输入密码",type:"password"},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),t("el-form-item",{attrs:{prop:"inviteCode"}},[t("el-input",{attrs:{placeholder:"请输入邀请码(非必填)"},model:{value:e.form.inviteCode,callback:function(t){e.$set(e.form,"inviteCode",t)},expression:"form.inviteCode"}})],1),t("el-form-item",{attrs:{label:"",prop:"code",rules:[{required:!0,message:"请输入验证码",trigger:"blur"}]}},[t("div",{staticClass:"code-item"},[t("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"4",placeholder:"请输入验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),t("span",{attrs:{loading:e.btnLoading},on:{click:e.getCode}},[e._v(e._s(e.isStart?e.time+" S":"发送验证码"))])],1)]),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.btnLoading},on:{click:e.login}},[e._v("立即注册")])],1),t("div",{staticClass:"login-footer"},[t("div",{staticClass:"left"},[t("span",[e._v("有账号？")]),t("i",{staticClass:"hover",on:{click:function(t){return e.$router.back()}}},[e._v("返回登录")])])])],1)])])])},r=[],a=o(21396),n=o.n(a),l={data(){return{form:{name:"",password:"",repassword:"",code:"",inviteCode:"",phone:""},phoneReg:(e,t,o)=>{if(/^1[0-9]{10,10}$/.test(t))return o();o(new Error("手机号格式错误"))},timer:null,time:60,isSend:!1,isStart:!1,isLoading:!1,currIndex:0,btnLoading:!1,loginType:"0"}},mounted(){},methods:{login(){this.$refs.form.validate((e=>{if(!e)return console.log("error submit!!"),!1;{if(this.form.password!=this.form.repassword)return void this.$message.success("两次密码输入不一致");o(45091).rE;const e=o(40813).rE;this.btnLoading=!0,this.$http.post("/api/malluser/reg",{...this.form,version:e},{headers:{Authorization:"Basic cGM6cGM="}}).then((e=>{0===e.code&&(this.$message.success("注册成功"),setTimeout((()=>{this.$router.replace("/login")}),500)),this.btnLoading=!1})).catch((()=>{this.btnLoading=!1}))}}))},encryptPhone(e){const t=navigator.userAgent,o=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var i="thanks,temulll11",r=n().enc.Latin1.parse(i),a=n().AES.encrypt(e,r,{iv:r,mode:n().mode.CBC,padding:n().pad.ZeroPadding});return o?encodeURIComponent(a.toString()):a.toString()},getCode(){if(this.isSend)return this.$message.error("验证码已发送");this.$refs.form.validateField("phone",(e=>{if(!e){let e=this.encryptPhone(this.form.phone);this.isSend=!0,this.btnLoading=!0,this.$http.post(`/api/sms/getRegSmsCodeNew?phone=${e}`,{},{withoutToken:!0}).then((e=>{0===e.code&&(this.$message.success("验证码发送成功"),this.isStart=!0,this.timer=setInterval((()=>{if(0===this.time)return this.isSend=!1,this.isStart=!1,this.time=60,clearInterval(this.timer),!1;this.time=this.time-1}),1e3)),this.btnLoading=!1,this.isSend=!1})).catch((()=>{this.isSend=!1,this.btnLoading=!1}))}}))},onChange(e){this.$emit("change",e)}}},s=l,d=(o(84950),o(81656)),c=(0,d.A)(s,i,r,!1,null,"53b25c0f",null),f=c.exports},16956:function(e,t,o){"use strict";o.r(t);var i=o(31601),r=o.n(i),a=o(76314),n=o.n(a),l=n()(r());l.push([e.id,'.login[data-v-53b25c0f]{display:flex;flex-direction:column;height:100vh}.login .body[data-v-53b25c0f]{position:relative;flex:1;width:100%;background-color:#cdc8c8;background-size:100% 100%}.login .body .middle[data-v-53b25c0f]{position:absolute;display:flex;justify-content:flex-end;top:50%;left:50%;z-index:11;width:1280px;transform:translate(-50%,-50%)}.login .body .middle>.left[data-v-53b25c0f]{padding-top:42px;font-family:MicrosoftYaHei}.login .body .middle>.left p[data-v-53b25c0f]{line-height:24px;margin-top:12px;margin-bottom:13px;font-size:18px;color:#fff}.login .body .middle>.left span[data-v-53b25c0f]{color:#fff}.login .body .middle>.right[data-v-53b25c0f]{width:500px;padding:63px 40px 42px;box-shadow:0 2px 12px 0 rgba(0,0,0,.06);background:#fff;border-radius:16px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);overflow:hidden}.login .body .middle>.right .tab[data-v-53b25c0f]{display:flex;position:relative;align-items:center;margin-bottom:36px;padding-bottom:17px;border-bottom:1px solid #dcdfe6}.login .body .middle>.right .tab[data-v-53b25c0f]:after{position:absolute;bottom:-1px;left:0;z-index:1;width:81px;height:2px;background:#1fbad6;content:" ";transition:all .3s ease-in-out}.login .body .middle>.right .tab.tab-active[data-v-53b25c0f]:after{transform:translateX(138px)}.login .body .middle>.right .tab h2[data-v-53b25c0f]{width:81px;line-height:24px;text-align:center;font-size:20px;font-family:SJsuqian;color:#000;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:all .4s ease}.login .body .middle>.right .tab h2.active[data-v-53b25c0f],.login .body .middle>.right .tab h2[data-v-53b25c0f]:hover{color:#1fbad6}.login .body .middle>.right .tab h2[data-v-53b25c0f]:first-child{margin-right:58px}.login .body .middle>.right .login-type[data-v-53b25c0f]{font-size:14px;font-family:SJsuqian;text-align:center;color:#54657d;cursor:pointer;transition:all .4s ease-in-out}.login .body .middle>.right .login-type[data-v-53b25c0f]:hover{color:#1fbad6}.login .body .middle>.right .login-footer[data-v-53b25c0f]{display:flex;align-items:center;justify-content:center;margin-top:21px;margin-bottom:38px}.login .body .middle>.right .login-footer div[data-v-53b25c0f]{display:flex;align-items:center}.login .body .middle>.right .login-footer div span[data-v-53b25c0f]{font-family:SJsuqian;color:#54657d}.login .body .middle>.right .login-footer div i[data-v-53b25c0f]{font-family:SJsuqian;color:#1fbad6}.login .body[data-v-53b25c0f] .el-form .el-input__inner{height:48px;border-color:#dcdfe6;background-color:transparent}.login .body[data-v-53b25c0f] .el-form .el-input__inner:focus,.login .body[data-v-53b25c0f] .el-form .el-input__inner:hover{border-color:#1fbad6}.login .body[data-v-53b25c0f] .el-form .el-input__inner::-moz-placeholder{color:#666}.login .body[data-v-53b25c0f] .el-form .el-input__inner::placeholder{color:#666}.login .body[data-v-53b25c0f] .el-form .el-form-item.is-error .el-input__inner,.login .body[data-v-53b25c0f] .el-form .el-form-item.is-error .el-input__inner:focus,.login .body[data-v-53b25c0f] .el-form .el-form-item.is-error .el-textarea__inner,.login .body[data-v-53b25c0f] .el-form .el-form-item.is-error .el-textarea__inner:focus{border-color:#f56c6c}.login .body[data-v-53b25c0f] .el-form .el-form-item{margin-bottom:20px}.login .body[data-v-53b25c0f] .el-form .el-button{height:48px;margin-top:28px;font-size:16px}.login .body[data-v-53b25c0f] .el-form .code-item{display:flex;align-items:center;justify-content:space-between}.login .body[data-v-53b25c0f] .el-form .code-item span{width:110px;height:48px;line-height:48px;text-align:center;font-size:14px;color:#333;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:4px;transition:all .3s cubic-bezier(.215,.61,.355,1);border:1px solid #dcdfe6}.login .body[data-v-53b25c0f] .el-form .code-item span:hover{border-color:#1fbad6}.login .body[data-v-53b25c0f] .el-form .code-item .el-form-item{width:300px}.login .body .copyright[data-v-53b25c0f]{position:fixed;bottom:24px;left:50%;font-size:14px;font-weight:400;color:#fff;letter-spacing:1px;transform:translateX(-50%)}',""]),t["default"]=l},84950:function(e,t,o){var i=o(16956);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=o(99548).A;r("488b69b0",i,!0,{sourceMap:!1,shadowMode:!1})},50477:function(){},45091:function(e){"use strict";e.exports={rE:"1.0"}},40813:function(e){"use strict";e.exports={rE:"3.4.1"}}}]);