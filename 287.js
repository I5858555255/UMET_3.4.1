"use strict";(self["webpackChunkpdd"]=self["webpackChunkpdd"]||[]).push([[287],{287:function(t,e,l){l.r(e),l.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",[e("ai-list",{staticClass:"list"},[e("ai-title",{attrs:{slot:"title",title:"商品采集",tips:"请先在当前浏览器登录“拼多多跨境卖家中心”，期间保持登录状态",isShowBottomBorder:""},slot:"title"}),e("template",{slot:"content"},[e("div",{staticClass:"content"},[e("ai-search-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"search-item"},[e("label",{staticStyle:{width:"80px"}},[t._v("店铺：")]),e("el-select",{attrs:{clearable:!0,placeholder:"请选择店铺",size:"small"},on:{change:function(e){t.search.current=1,t.getList()}},model:{value:t.search.mallId,callback:function(e){t.$set(t.search,"mallId",e)},expression:"search.mallId"}},t._l(t.$store.state.mallList,(function(t){return e("el-option",{key:t.mallId,attrs:{label:t.mallName,value:t.mallId}})})),1)],1)]},proxy:!0},{key:"right",fn:function(){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.search.current=1,t.getList()}}},[t._v("查询")])]},proxy:!0}])}),e("ai-search-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[e("el-button",{class:"el-button el-button--primary",attrs:{type:"button"},on:{click:function(e){return t.beforeCopy()}}},[t._v("开始采集")])]},proxy:!0}])}),e("ai-table",{staticStyle:{"margin-top":"8px"},attrs:{tableData:t.tableData,"col-configs":t.colConfigs,total:t.total,current:t.search.current,size:t.search.size},on:{"update:current":function(e){return t.$set(t.search,"current",e)},"update:size":function(e){return t.$set(t.search,"size",e)},getList:t.getList}},[e("el-table-column",{attrs:{slot:"url",label:"商品地址",align:"left"},slot:"url",scopedSlots:t._u([{key:"default",fn:function(l){return[l.row.url.startsWith("http")?e("div",[e("a",{staticClass:"el-link el-link--primary",attrs:{href:l.row.url,target:"_blank"}},[t._v(t._s(l.row.url))])]):e("div",[e("a",{staticClass:"el-link el-link--primary",attrs:{href:"https://www.temu.com/goods.html?goods_id="+l.row.url,target:"_blank"}},[t._v(t._s(l.row.url))])])]}}])}),e("el-table-column",{attrs:{slot:"type",label:"来源",width:"100px",align:"left"},slot:"type",scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" TEMU ")]}}])})],1)],1)])],2),e("ai-dialog",{attrs:{title:"TEMU采集",visible:t.copyFromDlgShow,"close-on-click-modal":!1,width:"790px",customFooter:""},on:{"update:visible":function(e){t.copyFromDlgShow=e},close:t.handleClose}},[t.copyFromDlgShow?e("ai-copy-from-temu",{on:{onClose:t.handleClose,onSuccess:t.handleSuccess}}):t._e()],1)],1)},o=[],s=l(55846),r={name:"NiubiCopy",components:{AiCopyFromTemu:s["default"]},data(){return{search:{current:1,size:10,type:"1",mallId:""},colConfigs:[{slot:"url",label:"商品地址",align:"left"},{slot:"type",label:"来源",width:"100px",align:"left"},{prop:"mallName",label:"店铺名称",width:"200px",align:"left"},{prop:"createTime",label:"复制时间",width:"180px"}],tableData:[],total:0,copyFromDlgShow:!1}},created(){this.getList()},methods:{getList(){this.$http.post("/api/copyProduct/myPage",null,{params:{...this.search}}).then((t=>{this.tableData=t.data.records,this.total=t.data.total}))},beforeCopy(){this.copyFromDlgShow=!0},handleClose(){this.copyFromDlgShow=!1},handleSuccess(){this.copyFromDlgShow=!1,this.getList()}}},i=r,n=l(81656),c=(0,n.A)(i,a,o,!1,null,"685061ec",null),u=c.exports}}]);