/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},u="application/octet-stream",d=0,s=500,l=function(t){var o=function(){"string"===typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,s)},v=function(e,t,n){t=[].concat(t);var o=t.length;while(o--){var r=e["on"+t[o]];if("function"===typeof r)try{r.call(e,n||e)}catch(i){f(i)}}},w=function(t,f){var s,w,p,y=this,m=t.type,h=!1,O=function(){v(y,"writestart progress write writeend".split(" "))},E=function(){if(!h&&s||(s=n().createObjectURL(t)),w)w.location.href=s;else{var o=e.open(s,"_blank");void 0==o&&"undefined"!==typeof safari&&(e.location.href=s)}y.readyState=y.DONE,O(),l(s)},R=function(e){return function(){if(y.readyState!==y.DONE)return e.apply(this,arguments)}},S={create:!0,exclusive:!1};if(y.readyState=y.INIT,f||(f="download"),r)return s=n().createObjectURL(t),o.href=s,o.download=f,i(o),y.readyState=y.DONE,O(),void l(s);e.chrome&&m&&m!==u&&(p=t.slice||t.webkitSlice,t=p.call(t,0,t.size,u),h=!0),a&&"download"!==f&&(f+=".download"),(m===u||a)&&(w=e),c?(d+=t.size,c(e.TEMPORARY,d,R((function(e){e.root.getDirectory("saved",S,R((function(e){var n=function(){e.getFile(f,S,R((function(e){e.createWriter(R((function(n){n.onwriteend=function(t){w.location.href=e.toURL(),y.readyState=y.DONE,v(y,"writeend",t),l(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=y["on"+e]})),n.write(t),y.abort=function(){n.abort(),y.readyState=y.DONE},y.readyState=y.WRITING})),E)})),E)};e.getFile(f,{create:!1},R((function(e){e.remove(),n()})),R((function(e){e.code===e.NOT_FOUND_ERR?n():E()})))})),E)})),E)):E()},p=w.prototype,y=function(e,t){return new w(e,t)};return p.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,y}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&null!==module?module.exports=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],(function(){return saveAs}));